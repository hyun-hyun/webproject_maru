{{>layouts/header}}
<div class="container">

    <form class="px-4 py-3" id="loginForm" action="/loginProc" method="post">
   <!-- <form class="px-4 py-3" th:action="@{/loginProc}" method="post">-->
      <div class="mb-3">
        <label for="exampleDropdownFormEmail1" class="form-label"><b>아이디</b> (이메일주소)</label>
        <input name="username" type="email" class="form-control" id="exampleDropdownFormEmail1" placeholder="email@example.com">
      </div>
      <div class="mb-3">
        <label for="exampleDropdownFormPassword1" class="form-label"><b>비밀번호</b></label>
        <input name="password" type="password" class="form-control" id="exampleDropdownFormPassword1" placeholder="비밀번호를 입력해주세요.">
      </div>
      <div class="mb-3">
        <div class="form-check">
          <input type="checkbox" class="form-check-input" id="dropdownCheck">
          <label class="form-check-label" for="dropdownCheck">
            Remember me *현재 기능 미지원*
          </label>
        </div>
      </div>
      {{#loginError}}
      <div class="alert alert-danger">
        사용자 e-mail 또는 비밀번호를 확인해 주세요.
      </div>
      {{/loginError}}

      <button type="submit" class="btn btn-primary">로그인</button>
    </form>
    <a class="dropdown-item" href="/join">처음 방문하셨나요? 회원가입</a>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function() {
      const urlParams = new URLSearchParams(window.location.search);
      const continueUrl = urlParams.get('continue');
      const form = document.getElementById('loginForm');

      if (continueUrl) {
          form.action += `?continue=${encodeURIComponent(continueUrl)}`;
      }
  });
</script>
  {{>layouts/footer}}